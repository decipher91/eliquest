<ion-view view-title="{{ 'QUIZ_TITLE' | translate}}" hide-nav-bar="false" ng-cloak="">
  <ion-content>
    <md-content class="md-padding quest-container" layout="column">
      <div flex align="right">
        <md-switch ng-model="lang" ng-true-value="'en'" ng-false-value="'ru'" class="md-warn" ng-change="changeLanguage(lang)">
          {{lang}}
        </md-switch>
      </div>
      <h1>{{ 'GREETING' | translate}}</h1>
      <div flex align="center">
        <md-button class="md-primary md-raised" ng-click="initQuest()" ng-show="!questInitialized">
          {{ 'INIT_BUTTON' | translate}}
        </md-button>
      </div>

      <div class="questions-container" flex align="row" ng-show="questInitialized">
        <md-card ng-repeat="task in tasks">
          <md-card-title>
            <md-card-title-text>
              {{lang === 'en' ? task.title.en : task.title.ru}}
            </md-card-title-text>
          </md-card-title>
          <md-card-content>
            <div layout>
              <div flex="80" layout layout-align="left">
                {{lang === 'en' ? task.text.en : task.text.ru}}
              </div>
              <div flex="20" layout layout-align="right">
                <span class="md-body-1">{{task.rate}}</span>
              </div>
            </div>
            <div layout>
              <div flex="10" layout layout-align="center center">
                <span class="md-body-1">1</span>
              </div>
              <md-slider flex md-discrete ng-model="task.rate" step="1" min="1" max="10" aria-label="rating">
              </md-slider>
              <div flex="10" layout layout-align="center center">
                <span class="md-body-1">10</span>
              </div>
            </div>
          </md-card-content>
        </md-card>

        <md-card>
          <md-card-title>
            <md-card-title-text>
              {{ 'GENDER' | translate}}</span>
            </md-card-title-text>
          </md-card-title>
          <md-card-content>
            <md-radio-group ng-model="gender">
              <md-radio-button ng-repeat="gender in genders"
                               ng-value="gender.value"
                               ng-click="setValue(gender.value)">
                {{lang === 'en' ? gender.text.en : gender.text.ru}}
                </md-radio-button>
            </md-radio-group>
          </md-card-content>
        </md-card>

        <div flex align="center">
          <md-button class="md-primary md-raised" ng-click="submitQuest()">
            {{ 'SUBMIT_BUTTON' | translate}}
          </md-button>
        </div>
      </div>
    </md-content>

  </ion-content>
</ion-view>

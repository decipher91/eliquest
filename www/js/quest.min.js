function QuestController(e,t,o,n){"use strict";var r=n.localDB;r.allDocs({include_docs:!0,attachments:!0}).then(function(e){console.log(e)})["catch"](function(e){console.log(e)}),e.lang="English",e.results=[],e.quests=o,e.questInitialized=!1,e.initQuest=function(){e.questInitialized=!0,e.questions=e.quests,e.gender="Male"},e.submitQuest=function(){e.quests?r.post({quests:e.quests,gender:e.gender}).then(function(t){console.log(t),e.quests=o,e.questInitialized=!1,e.gender="Male"})["catch"](function(e){console.log(e)}):alert("no answers provided")},e.$on("add",function(t,o){console.log(o),e.results.push(o),console.log(e.results)})}function AdminController(e,t,o,n){"use strict";var r=n.localDB;e.lang="English",e.refresh=function(){r.allDocs({include_docs:!0,attachments:!0}).then(function(t){console.log(t.rows),e.results=t.rows,e.$apply()})["catch"](function(e){console.log(e)})},e.refresh(),e.remove=function(t){r.get(t).then(function(e){return r.remove(e)}).then(function(t){console.log(t),e.refresh()})["catch"](function(e){console.log(e)})}}function Quest(){"use strict";var e=[{id:"question1",title:{en:"Question 1",ru:"Вопрос 1"},text:{en:"How do you rate your English skills?",ru:"Как вы оцениваете свой уровень английского языка?"},rate:"5"},{id:"question2",title:{en:"Question 2",ru:"Вопрос 2"},text:{en:"How do you rate your HTML5 skills?",ru:"Как вы оцениваете свои знания HTML5?"},rate:"5"},{id:"question3",title:{en:"Question 3",ru:"Вопрос 3"},text:{en:"How do you rate your CSS3 skills?",ru:"Как вы оцениваете свои знания CSS3?"},rate:"5"}];return{get:function(){return console.log(e),e}}}function Result(e,t){"use strict";var o=t.localDB;return{get:function(){var t=e.defer();o.allDocs({include_docs:!0,attachments:!0}).then(function(e){console.log(e),t.resolve(e)})["catch"](function(e){t.reject(e)})}}}function pouchService(){"use strict";this.localDB=new PouchDB("quest")}function ipService(e,t){"use strict";return{get:function(){var o=e.defer();return t.get("https://ip-api.com/json").success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}}}angular.module("quest",["ionic","pouchdb","quest.controllers","quest.factories","quest.services","ngMaterial"]).config(["$stateProvider","$urlRouterProvider","$httpProvider","$ionicConfigProvider","$mdThemingProvider",function(e,t,o,n,r){e.state("home",{url:"/home",templateUrl:"templates/home.html",controller:"QuestController",cache:!1,resolve:{quests:["Quest",function(e){return e.get()}]}}).state("admin",{url:"/admin",templateUrl:"templates/admin.html",controller:"AdminController",cache:!1,resolve:{results:["Result",function(e){return e.get()}]}}),t.otherwise("/home"),o.useApplyAsync(!0),n.scrolling.jsScrolling(!1),n.backButton.text("").icon("ion ion-android-arrow-back"),r.theme("default").primaryPalette("amber").accentPalette("deep-purple",{"default":"900"})}]),angular.module("quest.controllers",[]).controller("QuestController",QuestController).controller("AdminController",AdminController),QuestController.$inject=["$scope","$rootScope","quests","pouchService"],AdminController.$inject=["$scope","$rootScope","results","pouchService"],angular.module("quest.factories",[]).factory("Quest",Quest).factory("Result",Result),Quest.$inject=[],Result.$inject=["$q","pouchService"],angular.module("quest.services",[]).service("pouchService",pouchService).service("ipService",ipService),pouchService.$inject=[],ipService.$inject=["$q","$http"];